OK, so here we explain the technical aspects of IRMA. I'd like to show how it works mainly from standpoint of the user. The main feature of IRMA is that it is backed by the six largest stablecoins in Solana. Why six? The more established stablecoins that back IRMA, the more stable it becomes. We start with six because there are six stablecoins large and therefore stable enough in Solana.

Here is the IRMA system in a nutshell, and I call this illustration the "IRMA flower". At the center of this flower is IRMA, and it is surrounded by all six reserve stablecoins: USDT, USDC, PYUSD, USDS, USDG, and FDUSD. IRMA is backed by all six reserve stablecoins deposited in each of those peripheral circles. Whenever IRMA is minted, there's a reserve stablecoin that just increased, and for every redemption, IRMA is returned and a reserve stablecoin just got reduced in quantity.

[Currently IRMA does not convert to Ethena's USDe, but this is not an issue because the IRMA system has one other important feature, and that is - it's very simple to add another reserve stablecoin to the mix. In fact, this can serve as an incentive for USDe users to try it: USDe users can get 1:1 conversion, no matter the inflation, if they pre-deposit their USDe into a safe-deposit box.]

[So here's how it works. There are three main functions: minting, redemption, and swap.]

[1. Let's start with minting. When the IRMA program starts and attaches itself to the OpenBook V2 trading program, each of the reserve stablecoin circles are zero - there are no reserves and no IRMA in circulation, either. So then the first users mints IRMA by depositing her stablecoin, say USDT, into the USDT reserve address, shown here as the USDT circle. Then out comes IRMA and it is automatically deposited into the user's IRMA associated address.]

[2. Now for redemption. The user who holds IRMA can redeem her USDT back anytime. All she has to do is specify which reserve stablecoin she wants, and then deposit IRMA into the central IRMA wallet. Out comes USDT which is then deposited back into here wallet.]

What if a user just wanted to swap USDT not for IRMA but for another reserve stablecoin, say FDUSD? No problem. The IRMA system, because of the way it's fees are designed, can be used as a swap service.

[3. What are swaps? We can combine minting and redemption into one pass-through function, which is a swap. Let's say I am not interested in IRMA, I just want to swap my USDT for FDUSD. I can combing minting IRMA using my USDT to redeeming FDUSD. I don't get any IRMA, and what I've done is simply swap my USDT for FDUSD.]

Fees in the IRMA system are very simple. It does not charge fees when minting IRMA, but charges a 0.01 percent fee (one-hundredth of a percent) for redemptions. Swaps therefore cost 0.01 percent. Also, there is practically no limit to how much IRMA can be minted in a single transaction, but redemptions are limited to 100k IRMA per transaction. Multiple 100k redemptions in an instant are OK. This is not for discouraging redemptions. Rather, it is for keeping OpenBook V2 fully cranked all the time.

In a swap, what happens if the PYUSD reserve is zero and somebody wants to swap to PYUSD? This is not possible. Initially, all reserve backings are zero, which means that there is no IRMA yet to redeem, so this is OK.

Now I want to describe how the IRMA system prevents runs. The promise is that all your reserve stablecoins are redeemable anytime, but the system does not keep track of which stablecoin you deposited when you minted IRMA, so the promise is NOT one for one redemption of the original stablecoin you minted IRMA with, but rather for an equivalent amount of any stablecoins reserve backing. So for example, if you deposited $1,000 worth of USDC to mint 1,000 IRMAs, the promise has to do with equivalent value redemption, and not $1,000 USDC. All IRMA released will be fully backed by all reserve backing, according to the redemption price. Let me explain why the system is designed like this. {3 mins)

In the swap function I previously explained, the user starts with a certain stablecoin, say PYUSD that he doesn't care much about. She swaps 1,000 PYUSD for 1,000 USDC. This function does not increase the IRMA in circulation, but increases PYUSD backing while decreasing USDC backing. Therefore, USDC backing has decreased without a corresponding decrease in IRMA in circulation for USDC. IRMA is fungible and so are all the backing reserves, so even though USDC reserve has decreased without a corresponding decrease in IRMA market cap, another backing reserve (in this case PYUSD) has increased. IRMA is still fully backed, but by all reserves in totality.

Now you might think that IRMA is open to arbitrage, and indeed it is. At any moment in time, there are desirable stablecoins and undesirable ones. IRMA redemption pricing will therefore reflect desirability. (Mint pricing is always according to inflation and the current exchange rate of any of the stablecoin backing reserves.)

Redemption price for desirable coins must increase and undesirable ones, decrease. I'm talking about the inverse of the buy-back price of IRMA, which is simply total reserve backing divided by IRMA in circulation for that backing. The key phrase here is "IRMA in circulation for that backing". I just said that the IRMA system does not keep track of how much IRMA was released with respect to a particular backing, so what is this IRMA in circulation tied to a backing? The important thing is that if you sum all these quantities of IRMA in circulation, the total should equal the sum total of all IRMA in circulation, for that is the promise. However, the IRMA system could not possibly assign each IRMA quantity to the correct backing. The system therefore has taken the liberty to assign IRMA in circulation to each backing to set the redemption price for each backing. These IRMA in circulation re-assignments effectively protect IRMA from runs.

It gets complicated, but I have setup a plausible market scenario and tested the IRMA system against it.

The market scenario is this:
IRMA has become popular and now has 60 billion in circulation, and each reserve has increased in size to about 9.9 billion each.
Suddenly US dollar inflation has gone up and IRMA mint pricing has quickly adjusted to account for the inflation. This is an extreme case in which the stablecoin reserves have widely varying exchange rates with the US dollar. Suddenly each IRMA has widely divergent prices with respect to each reserve: here we show the mint prices for each reserve, the highest price is with respect to FDUSD at 36 FDUSD per IRMA, followed by USDG at 25 USDG per IRMA, and so on, with USDT being the most stable, staying at 1 USDT per IRMA. The price divergence among reserves are extreme and unrealistic, but this is designed to test the system in an extreme case. Clearly USDT is now most desirable and there is a large number of IRMA holders wanting to redeem USDT.
Let's say this large number of users each redeem 100k IRMA worth of USDT, some of them several times in a row. The redemption limit amount is 100K IRMA. This graph shows how the IRMA system would react to this sudden onslaught of USDT redemptions. This graph shows the redemption prices of each reserve backing, as each 100K redemption is processed in time. For simplicity we show each redemption happening at discrete but regular points in time. Notice how FDUSD redemption price goes up to meet its new, much higher mint price. Notice how the other redemption prices go up also, except the most desirable, USDT. Note that this scenario assumes that there is no minting going on, just redemptions. The system is able to protect itself by lowering the redemption price of IRMA with respect to USDT post-onslaught (to redeem USDT would now require more IRMA) while raising the redemption price of IRMA with respect to the rest of the reserve coins (requires less IRMA to redeem those), thereby matching these coins' mint price.



