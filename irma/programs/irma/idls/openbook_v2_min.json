{
  "address": "opnb2LAfJYbRMAHHvqjCwQxanZn7ReEHp1k81EohpZb",
  "metadata": {
    "name": "openbook_v2",
    "version": "0.1.0",
    "spec": "0.1.0",
    "description": "Partial manual edits in order to work with anchor v0.31.0"
  },
  "instructions": [
    {
      "name": "createMarket",
      "discriminator": [
        103,
        226,
        97,
        235,
        200,
        188,
        251,
        254
      ],
      "docs": [
        "Create a [`Market`](crate::state::Market) for a given token pair."
      ],
      "accounts": [
        {
          "name": "market",
          "writable": true,
          "signer": true
        },
        {
          "name": "marketAuthority",
          "writable": false,
          "signer": false
        },
        {
          "name": "bids",
          "writable": true,
          "signer": false,
          "docs": [
            "Accounts are initialized by client,",
            "anchor discriminator is set first when ix exits,"
          ]
        },
        {
          "name": "asks",
          "writable": true,
          "signer": false
        },
        {
          "name": "eventHeap",
          "writable": true,
          "signer": false
        },
        {
          "name": "payer",
          "writable": true,
          "signer": true
        },
        {
          "name": "marketBaseVault",
          "writable": true,
          "signer": false
        },
        {
          "name": "marketQuoteVault",
          "writable": true,
          "signer": false
        },
        {
          "name": "baseMint",
          "writable": false,
          "signer": false
        },
        {
          "name": "quoteMint",
          "writable": false,
          "signer": false
        },
        {
          "name": "systemProgram",
          "writable": false,
          "signer": false
        },
        {
          "name": "tokenProgram",
          "writable": false,
          "signer": false
        },
        {
          "name": "associatedTokenProgram",
          "writable": false,
          "signer": false
        },
        {
          "name": "oracleA",
          "writable": false,
          "signer": false,
          "optional": true
        },
        {
          "name": "oracleB",
          "writable": false,
          "signer": false,
          "optional": true
        },
        {
          "name": "collectFeeAdmin",
          "writable": false,
          "signer": false
        },
        {
          "name": "openOrdersAdmin",
          "writable": false,
          "signer": false,
          "optional": true
        },
        {
          "name": "consumeEventsAdmin",
          "writable": false,
          "signer": false,
          "optional": true
        },
        {
          "name": "closeMarketAdmin",
          "writable": false,
          "signer": false,
          "optional": true
        },
        {
          "name": "eventAuthority",
          "writable": false,
          "signer": false
        },
        {
          "name": "program",
          "writable": false,
          "signer": false
        }
      ],
      "args": [
        {
          "name": "name",
          "type": "string"
        },
        {
          "name": "oracleConfig",
          "type": "string"
        },
        {
          "name": "baseDecimals",
          "type": "u8"
        },
        {
          "name": "quoteDecimals",
          "type": "u8"
        },
        {
          "name": "baseLotSize",
          "type": "i64"
        },
        {
          "name": "quoteLotSize",
          "type": "i64"
        },
        {
          "name": "makerFee",
          "type": "i64"
        },
        {
          "name": "takerFee",
          "type": "i64"
        },
        {
          "name": "timeExpiry",
          "type": "i64"
        }
      ]
    }
  ],
  "accounts": [
    {
      "name": "Market",
      "discriminator": [
        109,
        198,
        79,
        121,
        65,
        202,
        161,
        142
      ]
    }
  ],
  "types": [
    {
      "name": "Market",
      "docs": [
        "A wrapper around an `Option<T>` that can be used with `zero_copy`"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "bump",
            "docs": [
              "PDA bump"
            ],
            "type": "u8"
          },
          {
            "name": "baseDecimals",
            "docs": [
              "Number of decimals used for the base token.",
              "",
              "Used to convert the oracle's price into a native/native price."
            ],
            "type": "u8"
          },
          {
            "name": "quoteDecimals",
            "type": "u8"
          },
          {
            "name": "padding1",
            "type": {
              "array": ["u8", 5]
            }
          },
          {
            "name": "timeExpiry",
            "docs": [
              "No expiry = 0. Market will expire and no trading allowed after time_expiry"
            ],
            "type": "i64"
          },
          {
            "name": "quoteLotSize",
            "docs": [
              "Number of quote native in a quote lot. Must be a power of 10.",
              "",
              "Primarily useful for increasing the tick size on the market: A lot price",
              "of 1 becomes a native price of quote_lot_size/base_lot_size becomes a",
              "ui price of quote_lot_size*base_decimals/base_lot_size/quote_decimals."
            ],
            "type": "i64"
          },
          {
            "name": "baseLotSize",
            "docs": [
              "Number of base native in a base lot. Must be a power of 10.",
              "",
              "Example: If base decimals for the underlying asset is 6, base lot size",
              "is 100 and and base position lots is 10_000 then base position native is",
              "1_000_000 and base position ui is 1."
            ],
            "type": "i64"
          },
          {
            "name": "seqNum",
            "docs": [
              "Total number of orders seen"
            ],
            "type": "u64"
          },
          {
            "name": "registrationTime",
            "docs": [
              "Timestamp in seconds that the market was registered at."
            ],
            "type": "i64"
          },
          {
            "name": "makerFee",
            "docs": [
              "Fees",
              "",
              "Fee (in 10^-6) when matching maker orders.",
              "maker_fee < 0 it means some of the taker_fees goes to the maker",
              "maker_fee > 0, it means no taker_fee to the maker, and maker fee goes to the referral"
            ],
            "type": "i64"
          },
          {
            "name": "takerFee",
            "docs": [
              "Fee (in 10^-6) for taker orders, always >= 0."
            ],
            "type": "i64"
          },
          {
            "name": "feesAccrued",
            "docs": [
              "Total fees accrued in native quote"
            ],
            "type": "u128"
          },
          {
            "name": "feesToReferrers",
            "docs": [
              "Total fees settled in native quote"
            ],
            "type": "u128"
          },
          {
            "name": "referrerRebatesAccrued",
            "docs": [
              "Referrer rebates to be distributed"
            ],
            "type": "u64"
          },
          {
            "name": "feesAvailable",
            "docs": [
              "Fees generated and available to withdraw via sweep_fees"
            ],
            "type": "u64"
          },
          {
            "name": "makerVolume",
            "docs": [
              "Cumulative maker volume (same as taker volume) in quote native units"
            ],
            "type": "u128"
          },
          {
            "name": "takerVolumeWoOo",
            "docs": [
              "Cumulative taker volume in quote native units due to place take orders"
            ],
            "type": "u128"
          },
          {
            "name": "marketQuoteVault",
            "type": "pubkey"
          },
          {
            "name": "quoteDepositTotal",
            "type": "u64"
          }
        ]
      }
    }
  ],
  "events": [
    {
      "name": "DepositLog",
      "discriminator": [
        109,
        198,
        79,
        121,
        65,
        202,
        161,
        142
      ],
      "fields": [
        {
          "name": "openOrdersAccount",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "signer",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "baseAmount",
          "type": "u64",
          "index": false
        },
        {
          "name": "quoteAmount",
          "type": "u64",
          "index": false
        }
      ]
    },
    {
      "name": "FillLog",
      "discriminator": [
        109,
        198,
        79,
        121,
        65,
        202,
        161,
        142
      ],
      "fields": [
        {
          "name": "market",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "takerSide",
          "type": "u8",
          "index": false
        },
        {
          "name": "makerSlot",
          "type": "u8",
          "index": false
        },
        {
          "name": "makerOut",
          "type": "bool",
          "index": false
        },
        {
          "name": "timestamp",
          "type": "u64",
          "index": false
        },
        {
          "name": "seqNum",
          "type": "u64",
          "index": false
        },
        {
          "name": "maker",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "makerClientOrderId",
          "type": "u64",
          "index": false
        },
        {
          "name": "makerFee",
          "type": "u64",
          "index": false
        },
        {
          "name": "makerTimestamp",
          "type": "u64",
          "index": false
        },
        {
          "name": "taker",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "takerClientOrderId",
          "type": "u64",
          "index": false
        },
        {
          "name": "takerFeeCeil",
          "type": "u64",
          "index": false
        },
        {
          "name": "price",
          "type": "i64",
          "index": false
        },
        {
          "name": "quantity",
          "type": "i64",
          "index": false
        }
      ]
    },
    {
      "name": "MarketMetaDataLog",
      "discriminator": [
        109,
        198,
        79,
        121,
        65,
        202,
        161,
        142
      ],
      "fields": [
        {
          "name": "market",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "name",
          "type": "string",
          "index": false
        },
        {
          "name": "baseMint",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "quoteMint",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "baseDecimals",
          "type": "u8",
          "index": false
        },
        {
          "name": "quoteDecimals",
          "type": "u8",
          "index": false
        },
        {
          "name": "baseLotSize",
          "type": "i64",
          "index": false
        },
        {
          "name": "quoteLotSize",
          "type": "i64",
          "index": false
        }
      ]
    },
    {
      "name": "TotalOrderFillEvent",
      "discriminator": [
        109,
        198,
        79,
        121,
        65,
        202,
        161,
        142
      ],
      "fields": [
        {
          "name": "side",
          "type": "u8",
          "index": false
        },
        {
          "name": "taker",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "totalQuantityPaid",
          "type": "u64",
          "index": false
        },
        {
          "name": "totalQuantityReceived",
          "type": "u64",
          "index": false
        },
        {
          "name": "fees",
          "type": "u64",
          "index": false
        }
      ]
    },
    {
      "name": "SetDelegateLog",
      "discriminator": [
        109,
        198,
        79,
        121,
        65,
        202,
        161,
        142
      ],
      "fields": [
        {
          "name": "openOrdersAccount",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "delegate",
          "type": {
            "option": "publicKey"
          },
          "index": false
        }
      ]
    },
    {
      "name": "SettleFundsLog",
      "discriminator": [
        109,
        198,
        79,
        121,
        65,
        202,
        161,
        142
      ],
      "fields": [
        {
          "name": "openOrdersAccount",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "baseNative",
          "type": "u64",
          "index": false
        },
        {
          "name": "quoteNative",
          "type": "u64",
          "index": false
        },
        {
          "name": "referrerRebate",
          "type": "u64",
          "index": false
        },
        {
          "name": "referrer",
          "type": {
            "option": "publicKey"
          },
          "index": false
        }
      ]
    },
    {
      "name": "SweepFeesLog",
      "discriminator": [
        109,
        198,
        79,
        121,
        65,
        202,
        161,
        142
      ],
      "fields": [
        {
          "name": "market",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "amount",
          "type": "u64",
          "index": false
        },
        {
          "name": "receiver",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "OpenOrdersPositionLog",
      "discriminator": [
        109,
        198,
        79,
        121,
        65,
        202,
        161,
        142
      ],
      "fields": [
        {
          "name": "owner",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "openOrdersAccountNum",
          "type": "u32",
          "index": false
        },
        {
          "name": "market",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "bidsBaseLots",
          "type": "i64",
          "index": false
        },
        {
          "name": "bidsQuoteLots",
          "type": "i64",
          "index": false
        },
        {
          "name": "asksBaseLots",
          "type": "i64",
          "index": false
        },
        {
          "name": "baseFreeNative",
          "type": "u64",
          "index": false
        },
        {
          "name": "quoteFreeNative",
          "type": "u64",
          "index": false
        },
        {
          "name": "lockedMakerFees",
          "type": "u64",
          "index": false
        },
        {
          "name": "referrerRebatesAvailable",
          "type": "u64",
          "index": false
        },
        {
          "name": "makerVolume",
          "type": "u128",
          "index": false
        },
        {
          "name": "takerVolume",
          "type": "u128",
          "index": false
        }
      ]
    }
  ],
  "errors": [
    {
      "code": 6000,
      "name": "SomeError",
      "msg": ""
    },
    {
      "code": 6001,
      "name": "InvalidInputNameLength",
      "msg": "Name lenght above limit"
    },
    {
      "code": 6002,
      "name": "InvalidInputMarketExpired",
      "msg": "Market cannot be created as expired"
    },
    {
      "code": 6003,
      "name": "InvalidInputMarketFees",
      "msg": "Taker fees should be positive and if maker fees are negative, greater or equal to their abs value"
    },
    {
      "code": 6004,
      "name": "InvalidInputLots",
      "msg": "Lots cannot be negative"
    },
    {
      "code": 6005,
      "name": "InvalidInputLotsSize",
      "msg": "Lots size above market limits"
    },
    {
      "code": 6006,
      "name": "InvalidInputOrdersAmounts",
      "msg": "Input amounts above limits"
    },
    {
      "code": 6007,
      "name": "InvalidInputCancelSize",
      "msg": "Price lots should be greater than zero"
    },
    {
      "code": 6008,
      "name": "InvalidInputPriceLots",
      "msg": "Expected cancel size should be greater than zero"
    },
    {
      "code": 6009,
      "name": "InvalidInputPegLimit",
      "msg": "Peg limit should be greater than zero"
    },
    {
      "code": 6010,
      "name": "InvalidInputOrderType",
      "msg": "The order type is invalid. A taker order must be Market or ImmediateOrCancel"
    },
    {
      "code": 6011,
      "name": "InvalidInputOrderId",
      "msg": "Order id cannot be zero"
    },
    {
      "code": 6012,
      "name": "InvalidInputHeapSlots",
      "msg": "Slot above heap limit"
    },
    {
      "code": 6013,
      "name": "InvalidOracleTypes",
      "msg": "Cannot combine two oracles of different providers"
    },
    {
      "code": 6014,
      "name": "InvalidSecondOracle",
      "msg": "Cannot configure secondary oracle without primary"
    },
    {
      "code": 6015,
      "name": "NoCloseMarketAdmin",
      "msg": "This market does not have a `close_market_admin` and thus cannot be closed."
    },
    {
      "code": 6016,
      "name": "InvalidCloseMarketAdmin",
      "msg": "The signer of this transaction is not this market's `close_market_admin`."
    },
    {
      "code": 6017,
      "name": "InvalidOpenOrdersAdmin",
      "msg": "The `open_orders_admin` required by this market to sign all instructions that creates orders is missing or is not valid"
    },
    {
      "code": 6018,
      "name": "InvalidConsumeEventsAdmin",
      "msg": "The `consume_events_admin` required by this market to sign all instructions that consume events is missing or is not valid"
    },
    {
      "code": 6019,
      "name": "InvalidMarketVault",
      "msg": "Provided `market_vault` is invalid"
    },
    {
      "code": 6020,
      "name": "IndexerActiveOO",
      "msg": "Cannot be closed due to the existence of open orders accounts"
    },
    {
      "code": 6021,
      "name": "OraclePegInvalidOracleState",
      "msg": "Cannot place a peg order due to invalid oracle state"
    },
    {
      "code": 6022,
      "name": "UnknownOracleType",
      "msg": "oracle type cannot be determined"
    },
    {
      "code": 6023,
      "name": "OracleConfidence",
      "msg": "an oracle does not reach the confidence threshold"
    },
    {
      "code": 6024,
      "name": "OracleStale",
      "msg": "an oracle is stale"
    },
    {
      "code": 6025,
      "name": "OrderIdNotFound",
      "msg": "Order id not found on the orderbook"
    },
    {
      "code": 6026,
      "name": "EventHeapContainsElements",
      "msg": "Event heap contains elements and market can't be closed"
    },
    {
      "code": 6027,
      "name": "InvalidOrderPostIOC",
      "msg": "ImmediateOrCancel is not a PostOrderType"
    },
    {
      "code": 6028,
      "name": "InvalidOrderPostMarket",
      "msg": "Market is not a PostOrderType"
    },
    {
      "code": 6029,
      "name": "WouldSelfTrade",
      "msg": "would self trade"
    },
    {
      "code": 6030,
      "name": "MarketHasExpired",
      "msg": "The Market has already expired."
    },
    {
      "code": 6031,
      "name": "InvalidPriceLots",
      "msg": "Price lots should be greater than zero"
    },
    {
      "code": 6032,
      "name": "InvalidOraclePrice",
      "msg": "Oracle price above market limits"
    },
    {
      "code": 6033,
      "name": "MarketHasNotExpired",
      "msg": "The Market has not expired yet."
    },
    {
      "code": 6034,
      "name": "NoOwnerOrDelegate",
      "msg": "No correct owner or delegate."
    },
    {
      "code": 6035,
      "name": "NoOwner",
      "msg": "No correct owner"
    },
    {
      "code": 6036,
      "name": "OpenOrdersFull",
      "msg": "No free order index in open orders account"
    },
    {
      "code": 6037,
      "name": "BookContainsElements",
      "msg": "Book contains elements"
    },
    {
      "code": 6038,
      "name": "OpenOrdersOrderNotFound",
      "msg": "Could not find order in user account"
    },
    {
      "code": 6039,
      "name": "InvalidPostAmount",
      "msg": "Amount to post above book limits"
    },
    {
      "code": 6040,
      "name": "DisabledOraclePeg",
      "msg": "Oracle peg orders are not enabled for this market"
    },
    {
      "code": 6041,
      "name": "NonEmptyMarket",
      "msg": "Cannot close a non-empty market"
    },
    {
      "code": 6042,
      "name": "NonEmptyOpenOrdersPosition",
      "msg": "Cannot close a non-empty open orders account"
    },
    {
      "code": 6043,
      "name": "WouldExecutePartially",
      "msg": "Fill-Or-Kill order would generate a partial execution"
    }
  ]
}